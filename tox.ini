[tox]
envlist = py35, py36, pep8
skipsdist = True

[testenv]
deps =
  -r{toxinidir}/requirements.txt
basepython=python3
whitelist_externals =
  find
commands =
  find . -type f -name "*.pyc" -delete
  pytest \
    {posargs}

[testenv:fmt]
deps = yapf
commands =
    yapf --style=pep8 -ir {toxinidir}/tugboat {toxinidir}/tests

[testenv:pep8]
deps = 
    yapf
    flake8
commands =
    #yapf --style=.style.yapf -rd {toxinidir}/tugboat
    flake8 {toxinidir}/tugboat

[testenv:bandit]
deps =
    bandit
commands = bandit -r tugboat -n 5

[flake8]
ignore = E125,E251,W503
